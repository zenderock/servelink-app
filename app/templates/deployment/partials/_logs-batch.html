{% from "deployment/macros/log-list.html" import log_list %}

{% if next_batch_url %}
<div id="deployment-logs-load-more" class="flex justify-center p-4" hx-get="{{ next_batch_url }}"
  hx-trigger="intersect once delay:100ms" hx-disabled-elt="button" hx-swap="outerHTML">
  <button class="btn-secondary flex items-center gap-x-2">
    {{ _('Load more') }}
    <div class="[&>svg]:size-4 [&>svg]:animate-spin">{% include "icons/loader.svg" %}</div>
  </button>
</div>
{% endif %}

{{ log_list(logs=logs) }}

{# SSE connection is now handled in the main template #}