{% extends "layouts/auth.html" %}

{% block title %}Sign in{% endblock %}

{% block auth_content %}
<div class="w-full max-w-sm space-y-8" x-data="{ loading: null }">
  <div class="text-center space-y-4">
    <div class="space-y-2">
      <h1 class="text-3xl font-bold">Welcome back</h1>
      <p class="text-muted-foreground">Sign in to {{ app_name }} to continue</p>
    </div>
    {{ login_header | safe }}
  </div>

  <div class="space-y-6">
    <section class="space-y-4">
      {% include "auth/partials/_form-email.html" %}

      <div class="relative">
        <div class="absolute inset-0 flex items-center">
          <span class="w-full border-t"></span>
        </div>
        <div class="relative flex justify-center text-xs uppercase">
          <span class="bg-background px-2 text-muted-foreground">Or continue with</span>
        </div>
      </div>

      <div class="grid gap-3">
        <button class="btn-outline w-full" @click="
            loading = 'github';
            window.location.href = '{{ url_for('auth_github_login') }}';
          " :disabled="loading">
          {% include "icons/github.svg" %}
          {{ _("Continue with GitHub") }}
          <span x-show="loading === 'github'" class="[&>svg]:size-4 [&>svg]:animate-spin">
            {% include "icons/loader.svg" %}
          </span>
        </button>
        {% if has_google_login %}
        <button class="btn-outline w-full" @click="
              loading = 'google';
              window.location.href = '{{ url_for('auth_google_login') }}';
            " :disabled="loading">
          {% include "icons/google.svg" %}
          {{ _("Continue with Google") }}
          <span x-show="loading === 'google'" class="[&>svg]:size-4 [&>svg]:animate-spin">
            {% include "icons/loader.svg" %}
          </span>
        </button>
        {% endif %}
      </div>
    </section>
  </div>
</div>
{% endblock %}