/* Servelink Custom Components - Flat Design */

/* Enhanced HTMX indicators with flat design */
.htmx-indicator {
  transition-behavior: allow-discrete;
  @apply invisible opacity-0 transition-all;
}

.htmx-indicator:not(.htmx-request) {
  @apply hidden;
}

.htmx-request,
.htmx-request.htmx-indicator {
  @apply visible opacity-100;
}

/* Flat progress bar animation */
@keyframes progress-bar {
  0% {
    width: 0%
  }

  10% {
    width: 40%
  }

  30% {
    width: 60%
  }

  60% {
    width: 70%
  }

  90% {
    width: 75%
  }

  100% {
    width: 78%
  }
}

/* Flat loading bar */
body:after {
  @apply content-[''] fixed top-0 left-0 h-0.5 bg-black dark:bg-white z-[999] opacity-0 w-0 transition-all pointer-events-none;
}

body.loading:after {
  @apply opacity-100 animate-[progress-bar_4s_linear_forwards];
}

body:not(.loading):after {
  @apply w-full opacity-0 transition-all duration-300 ease-in-out;
}

/* Flat typography */
.h1,
.h2,
.h3,
.h4,
.h5,
.h6 {
  @apply font-medium leading-tight;
}

.h1 {
  @apply text-2xl;
}

.h2 {
  @apply text-xl;
}

.h3 {
  @apply text-lg;
}

.h4,
.h5,
.h6 {
  @apply text-base;
}

/* Flat toast design */
.toast {
  border-radius: 0 !important;
  box-shadow: none !important;
  border: 1px solid var(--border);

  &[data-category="success"] .toast-content svg {
    @apply text-green-600 dark:text-green-400;
  }

  &[data-category="error"] .toast-content svg {
    @apply text-destructive;
  }

  &[data-category="warning"] .toast-content svg {
    @apply text-orange-600 dark:text-orange-400;
  }
}

/* Servelink Button Variants */
.btn-sm-icon,
.btn-sm-icon-outline,
.btn-sm-icon-ghost {
  border-radius: 0 !important;
  box-shadow: none !important;
  transition: all 0.15s ease-in-out;
}

.btn-sm-icon-outline {
  border: 1px solid var(--border);
  background: transparent;
}

.btn-sm-icon-outline:hover {
  background: var(--muted);
  border-color: var(--foreground);
}

.btn-sm-icon-ghost {
  background: transparent;
  border: 1px solid transparent;
}

.btn-sm-icon-ghost:hover {
  background: var(--muted);
}

/* Servelink Form Elements */
.label {
  font-weight: 500;
  color: var(--foreground);
}

/* Servelink Card Enhancements */
.card header {
  border-bottom: 1px solid var(--border);
  padding: 1rem;
}

.card section {
  padding: 1rem;
}

/* Servelink Navigation */
.nav-link {
  border-radius: 0 !important;
  transition: all 0.15s ease-in-out;
}

.nav-link:hover {
  background: var(--muted);
  transform: none;
}

/* Servelink Status Indicators */
.status-indicator {
  border-radius: 0 !important;
  border: 1px solid var(--border);
}

/* Servelink Tables */
.table {
  border-radius: 0 !important;
}

.table th,
.table td {
  border: 1px solid var(--border);
}

/* Servelink Code Blocks */
.code,
pre {
  border-radius: 0 !important;
  border: 1px solid var(--border);
  background: var(--muted);
}

/* Servelink Tooltips */
[data-tooltip] {
  border-radius: 0 !important;
}

/* Servelink Loading States */
.loading-spinner {
  border-radius: 0 !important;
}

/* Servelink Focus States */
*:focus {
  outline: 2px solid var(--ring);
  outline-offset: 2px;
  border-radius: 0 !important;
}

/* Servelink Selection States */
::selection {
  background: var(--muted);
  color: var(--foreground);
}

/* Header Navigation - Remove borders by default */
header .btn-sm-ghost {
  border: none !important;
  box-shadow: none !important;
}

header .btn-sm-ghost:hover {
  background: var(--muted);
  border: none !important;
}

/* Header dropdown triggers - Remove borders */
header [class*="btn-sm-ghost"] {
  border: none !important;
  box-shadow: none !important;
}

header [class*="btn-sm-ghost"]:hover {
  background: var(--muted);
  border: none !important;
}

/* Disabled button states */
.btn-primary:disabled,
.btn-secondary:disabled,
.btn-ghost:disabled,
.btn-outline:disabled,
button:disabled {
  cursor: not-allowed !important;
  opacity: 0.5 !important;
}

/* Ensure disabled buttons show proper cursor */
.opacity-50.cursor-not-allowed {
  cursor: not-allowed !important;
}

/* Upgrade Plan Modal Styles */
#dialog-upgrade-plan {
  max-width: 80vw;
  width: 80vw;
  height: 80vh;
  max-height: 80vh;
}

#dialog-upgrade-plan .dialog-content {
  height: 100%;
  display: flex;
  flex-direction: column;
}

/* Payment method selection */
.payment-method-card {
  transition: all 0.2s ease-in-out;
}

.payment-method-card:hover {
  transform: translateY(-2px);
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
}

.payment-method-card.selected {
  border-color: var(--primary);
  background-color: color-mix(in srgb, var(--primary) 5%, transparent);
}

/* Plan comparison cards */
.plan-card {
  transition: all 0.2s ease-in-out;
}

.plan-card:hover {
  transform: translateY(-2px);
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
}